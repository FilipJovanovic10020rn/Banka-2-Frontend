<div class="body-container">

  <p-breadcrumb [model]="breadcrumbItems"></p-breadcrumb>

  <div class="table-container">
    <p-table #dt [value]="companies" class="p-datatable-header"
             [rowHover]="true" [rows]="6" [showCurrentPageReport]="true"
             [paginator]="true" [alwaysShowPaginator]="false"
             [loading]="loading" [loadingIcon]="''"
             currentPageReportTemplate="Prikazano je {first}-{last} od ukupno {totalRecords} kompanija"
             [globalFilterFields]="['symbol']"
    >
      <ng-template pTemplate="caption">


        <div class="table-header row">
          <div class="col-6 col-lg-6 col-md-6 text-start table-name">
            <div style="display:flex; align-items: center; gap: 8px;">
              <h3 class="berza-mojeakcije-text">
                Kompanije
              </h3>
              <!--              <button class="ms-3 mb-1" pButton pRipple style="background-color: #3d3d3d; cursor: pointer;"-->
              <!--                      [routerLink]="'/stocks-table/sell'" label="Moje akcije"></button>-->
            </div>
          </div>

          <div class="col-lg-6 col-md-6 col-6 text-end">
            <form action="" title="Dodaj akciju">
              <div class="add-stock-container">
                <button label="Dodaj kompaniju" pButton pRipple style="background-color: #3d3d3d; cursor: pointer;"
                        icon="pi pi-plus"
                        (click)="openCreateCompanyDialog()"></button>
              </div>
            </form>
          </div>

        </div>
      </ng-template>

      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="id" style="font-size: 12px;">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">ID</p>
                <p-sortIcon field="id"></p-sortIcon>
              </div>
            </div>
          </th>
          <th pSortableColumn="name" style="font-size: 12px;">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Naziv</p>
                <p-sortIcon field="name"></p-sortIcon>
                <p-columnFilter id="nameFilter" type="text" field="name" display="menu" class="ml-auto"
                                matchMode="contains"
                                [showMatchModes]="false" placeholder="Unesite naziv" [showOperator]="false"
                                [showAddButton]="false">

                </p-columnFilter>
              </div>
            </div>
          </th>
          <th pSortableColumn="taxNumber" style="font-size: 12px; ">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">PIB</p>
                <p-sortIcon field="taxNumber"></p-sortIcon>
                <p-columnFilter id="taxNumberFilter" type="text" field="taxNumber" display="menu" class="ml-auto"
                                matchMode="contains"
                                [showMatchModes]="false" placeholder="Unesite PIB" [showOperator]="false"
                                [showAddButton]="false">
                </p-columnFilter>
              </div>
            </div>
          </th>
          <th pSortableColumn="activityCode" style="font-size: 12px; ">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Šifra</p>
                <p-sortIcon field="idNumber"></p-sortIcon>
                <p-columnFilter id="idNumberFilter" type="text" field="activityCode" display="menu" class="ml-auto"
                                matchMode="contains"
                                [showMatchModes]="false" placeholder="Unesite šifru" [showOperator]="false"
                                [showAddButton]="false">

                </p-columnFilter>
              </div>
            </div>
          </th>
          <th pSortableColumn="address" style="font-size: 12px; ">
            <div class="flex justify-content-between align-items-center">
              <div class="icon-container">
                <p style="margin-bottom: 0; margin-top: 2px;">Adresa</p>
                <p-sortIcon field="address"></p-sortIcon>
              </div>
            </div>
          </th>


        </tr>
      </ng-template>
      <ng-template pTemplate="loadingbody">
        <tr>
          <td>
            <p-skeleton width="3rem"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="3rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="3rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="4rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="4rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton styleClass="mb-2"></p-skeleton>
          </td>
        </tr>
        <tr>
          <td>
            <p-skeleton width="3rem"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="3rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="3rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="4rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="4rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton styleClass="mb-2"></p-skeleton>
          </td>
        </tr>
        <tr>
          <td>
            <p-skeleton width="3rem"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="3rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="3rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="4rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton width="4rem" styleClass="mb-2"></p-skeleton>
          </td>
          <td>
            <p-skeleton styleClass="mb-2"></p-skeleton>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <!-- TODO centrirati ovo u tabelu -->
          <td [attr.colspan]="7">
            <div class="text-center">
              <span>Nema podataka za prikazivanje</span>
            </div>
          </td>
        </tr>
      </ng-template>

      <!--      id: number,-->
      <!--      companyName: string,-->
      <!--      address: string,-->
      <!--      country: string,-->
      <!--      idNumber: string, // maticni broj-->
      <!--      taxNumber: string // poreski broj-->

      <ng-template pTemplate="body" let-company>
        <tr class="rowHover" [routerLink]="'/company/' + company.id" style="font-size: 12px;">
          <td>{{company.id}}</td>
          <td>{{company.name}}</td>
          <td>{{company.taxNumber}}</td>
          <td>{{company.activityCode}}</td>
          <td>{{company.address}}</td>

        </tr>
      </ng-template>
    </p-table>
  </div>


<app-create-company (createCompanyEmitter)="createCompany($event)"></app-create-company>
